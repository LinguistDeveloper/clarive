<!--
url: /dashboard/list_topics
html: /dashlets/topics.html
order: 3
---
-->
<%perl>
    use Baseliner::Utils;
    my @topics = $c->stash->{topics};
</%perl>

    <div>
        <h2>Tópicos</h2>
        <table class="table table-bordered table-condensed dashboard">
            <thead>
                <tr>
                    <th colspan="3">Título</th>
                    <th>Comentarios</th>            
                    <th>Creada</th>
                </tr>
            </thead>
            <tbody>
%foreach my $topic (_array @topics){
% my $numcomment = $topic->{numcomment} ? $topic->{numcomment}:'&nbsp';
                <tr>
                    <td colspan='3'><b><a href="javascript:Baseliner.addNewTabComp('/topic/grid?query=<%$topic->{topic_mid}%>', _('Topics'));"><% substr($topic->{title},0,30) . ( length( $topic->{title} ) > 30 and '...' ) %></a></b></td>
                    <td><%$numcomment%></td>
                    <td><%$topic->{created_on}%></td>
                </tr>
%}
            </tbody>
        </table>
    </div>


