<%perl>
	use Try::Tiny;
	try {
		my $sem = $c->model('Semaphores')->request( name=>'nature.dotnet', who=>'someone', description=>'Naturaleza J2EE' ); 
		print 'Im here';
		sleep 4;
		print '... releasing';
	} catch {
		my $e = shift;
		if( $e->isa('Baseliner::Exception::Semaphore::Cancelled') ) {
			print '<li>CANCELLED!' ;
			print '<li>' . $e->message ;
			print '<li>' . $e->caller;
			print "<li>" . $e->stack;
		}
		else {
			die $e;
		}
	};
	#$sem->release;
</%perl>
