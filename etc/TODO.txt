- oper - ver pases pendientes de aprobar
- filtro de elementos no funciona bien
NO- avisar al promo a DI en Evolutivo si hay correctivo
- avisar xpackage merges
- udp de xpackage merge
- checkout en estados no Desarrollo: quitar checkout paquete
- checkout Desarrollo: estado siguiente + paquete en cuestion
- BX::Job::Service::Runner:204] [JOB 1425][info] Pre-ejecuci√≥n de pase terminada con status 'Esperando Inicio'
- cuando hay 2 "cargando...", uno se queda forever
- poder quitar los cargando con unas aspas X
- Fecha de pase finalizado
- desactivar paginacion en Log
- Log: poner numero de ejecucion en el boton
- Log: refrescar ejecucion
--------------------------------------



√Ø¬ª¬øCampos
- item 
- dt modificaciÛn
- usuario
- aprobador

AgrupaciÛn
- por aplicacion
- por packagegroup
- por release
- por rfc
- por fecha de modificaciÛn

Ver
- Paquete Harvest
- Paquete Endevor 
- Pases
- RFCs

Entorno
- Todos
- Desarrollo
- PreproducciÛn
- ProducciÛn

Filtro
- Todos
- Pendiente de Aprobar
- Disponible para pase a producciÛn

AcciÛn
- Aprobar
- Rechazar
- Crear pase
- Crear Release y AÒadir
- AÒadir a Release Existente - abre ventana
- Ver Pases en el que ha estado

------------------------

GBP.0188

AABH671E - MI

ABGS451Y - RI

JATA194E - RF


------------------------

SEARCH
B:Search->create;

SEARCH_RESULTS
BS->push( obj );

- select - then insert/update into REPO
	- request a 50 page from each
	- provider returns ns list
	- provider may control update, only a after time t has gone by
	- requester queries REPO, searches repo clob, pages to 50

- return a data stream
	- 50 + 50 + 50 etc.
	- ko - stream disappears for next request or forked process
	- ok - stream is paged, so if it disappears, next time get next page (start:50, etc)
	- ko, no way, in memory were all the pointers to the stream

- search + search results table
	- requester creates search request
	- fires up providers with the request id
	- providers lookup request then 

- one grid per provider
	- separate grids per provider
	- tab separated, or panel separated, or accordion separated
	- or even west-panel accordion



----------------------------------------------

Pases

- pases quedan Abortados (endevor)
- a Desarrollo - deshabililtar calendarios
- monitor autorefresh
- seleccion de paquetes pase: lista enseÒa pases ya seleccionados:
	_ quitarlos enviandolos al servidor

- log refresco auto: ask if a reload is needed count > 1, sending the last id

x paginaciÛn de pases
x filtrar Pases por usuario (crear provider?)
x columna contenido del pase / applicacion en el Monitor 
x Endevor packages - filtrar por usuario de aplicacion

? paginacion Monitor - no funciona hacia atr·s

- Namespaces->search_for (para cuando no se sabe el dominio)
- _sql_query_build - para que dos terminos con espacio "foo bar" sea -and=>[ -like=>, -like=> ]

- acciones especiales de monitor: 
	- borrar todos los pases Cancelados/In-Edit
	- Cancelar todos los pases programados
	- detener demonio de pase

X carga usuario con 0 = /

- aprobar pase desde el MONITOR - para operaciones y quien sea
- config list - ver los valores por defecto, y cambiarlos
- BALI_HIST, ns, username, event, ts


-------------------------

Aprobaciones

x daemon: verificar si est· en release y no enviar (saltarlo directamente). 
- si no hay usuarios aprobadores, se crea la solicitud y ya est√°
x renombrar item a elemento, pantalla Revisiones => Mis Elementos
- paquetes de emergencia HxxxExxxxx no tienen aprobaci√≥n

x email: solicitado a:  user1, user2 solicitado por: requested_by
x solicitar aprobaciÛn al crear pase

- cancelado: pedir motivo de cancelacion... y poner link en 'cancelado' para verlo.
- solicitante no ve las solicitudes que tiene pendiente Èl o su aplicacion
- ability to rerequest approval after rejection
- email config block option - or just don't run the emailer daemon


- view menu:
	- pendiente
	- aprovado
	- rechazado
	- cancelado

x requested by / solicitante column
x lista - pintar icono seg˙n el estado

x double click on request shows an email window, ViewEmail button

-------------------------

Releases 

x poder crear una release vacia

x al a√±adir paquete a la release, enviar correo a propietario de la release

x falla al volver a editar release y volver a guardar

x a√±adir a release - solo si coincide el entorno bl de la release y del paquete ( DESA y PREP)

- gap: cuando est√° aprobado el paquete pero a√∫n no se ha lanzado la siguiente petici√≥n, se queda disponible 
       para pase a PROD!! 
	   - deber√≠a detectarse que est√° en medio de un ciclo.
	   - campo next_state - s√≥lo est√° disponible para pase si el next_state es 'finished'

- quiÈn ha aÒadido el paquete a mi release? poner en los 2 grids, al menos. 
- UDP pre-link: si esta en release, no promueva

x on close edit form, call a panel.refresh() method with try-catch, to give the previous tab a chance o refreshing


-------------

Chocolate:

- icono de cargando al cargar la p√°gina
- SEMAFOROS !!!!! semaforos para la llamada a Endevor, para que no se solapen

- ver servers conectado 
-   para cada server - ver logs

- semaforos!!

- exportador / importador de la tabla config
- quitar paquetes en gris
- al aÒadir paq, quitar lista

APPROVED:

PROM_TGT_ENV + PROM_TGT_STGID = 
	
	DESA 1 - no pases
	DESA 2 - a PREP
	PREP 1 - no existe
	PROD 2 - a PROD

--------------

- Control de RFCs. Se debe realizar:
. al crear el paquete.
. al crear la release.
. en el pase entre entornos.

- Llamada al WS de Registro de Objetivos. Las llamadas se deben hacer en los siguientes puntos:
. Al crear el paquete (en este punto ya se realiza la llamada).
. Al crear la release.
. Al crear el pase.





--------------------------------------








=== running service: service.nature.j2ee.deploy | 1.0 | deploy | BaselinerX::Nature::J2EE::Service::Deploy ===
2010-06-18 21:54:50[946274] [BX::Nature::J2EE::Service::Deploy:40] [JOB 1425][info] Inicio <b>despliegue</b> J2EE
2010-06-18 21:54:51[946274] [BX::Nature::J2EE::Service::Deploy:46] [JOB 1425][info] Desplegando <b>Ejemplo.ear</b> J2EE del proyecto GBP.0083 en el entorno DESA
2010-06-18 21:54:51[946274] [BX::Nature::FILES::Filedist:113] [JOB 1425][debug] Distribucion de ficheros <b>EAR</b>.
2010-06-18 21:54:51[946274] [BX::Nature::FILES::Filedist:124] [JOB 1425][debug] Generando <b>MAPEOS</b> definidos...
2010-06-18 21:54:51[946274] [BX::Nature::FILES::Filedist:131] [JOB 1425][debug] Mapeos generados, pulse para ver la lista de paquetes mapeados.
2010-06-18 21:54:51[946274] [BX::Nature::FILES::Filedist:144] [JOB 1425][debug] Distribuciones ejecutadas.
2010-06-18 21:54:51[946274] [BX::Nature::J2EE::Service::Deploy:46] [JOB 1425][info] Desplegando <b>EstadisticasEAR</b> J2EE del proyecto GBP.0083 en el entorno DESA
2010-06-18 21:54:51[946274] [BX::Nature::FILES::Filedist:113] [JOB 1425][debug] Distribucion de ficheros <b>EAR</b>.
2010-06-18 21:54:51[946274] [BX::Nature::FILES::Filedist:415] [JOB 1425][debug] Ejecutando <b>PRE-SCRIPTS</b>: harvest.subapplication/EstadisticasEAR, DESA, /opt/ca/tmp/N.DESA-00001425/GBP.0083/J2EE, PRE
2010-06-18 21:54:51[946274] [BX::Nature::FILES::Filedist:124] [JOB 1425][debug] Generando <b>MAPEOS</b> definidos...
2010-06-18 21:54:51[946274] [BX::Nature::FILES::Filedist:131] [JOB 1425][debug] Mapeos generados, pulse para ver la lista de paquetes mapeados.
2010-06-18 21:54:51[946274] [BX::Nature::FILES::Filedist:288] [JOB 1425][debug] Ejecutando distribucion.
HOST=172.26.206.19 at /opt/ca/distribuidor/script/../lib/Baseliner/Core/Filesys/SSH.pm line 97.
HOME=/temporal at /opt/ca/distribuidor/script/../lib/Baseliner/Core/Filesys/SSH.pm line 98.
CONN=-p 53255 instala@172.26.206.19 at /opt/ca/distribuidor/script/../lib/Baseliner/Core/Filesys/SSH.pm line 99.
EXEC REMOTE=set 2>&1
SH=='set 2>&1' at /opt/ca/distribuidor/script/../lib/Baseliner/Core/Filesys/SSH.pm line 66.
EXEC REMOTE=uname
SH==uname at /opt/ca/distribuidor/script/../lib/Baseliner/Core/Filesys/SSH.pm line 66.
2010-06-18 21:54:53[946274] [BX::Nature::FILES::Filedist:292] [JOB 1425][debug] FS REMOTO CREADO .
EXEC REMOTE=cd "/temporal" 2>&1 ; mkdir -p "/temporal" 2>&1
SH=='cd "/temporal" 2>&1 ; mkdir -p "/temporal" 2>&1' at /opt/ca/distribuidor/script/../lib/Baseliner/Core/Filesys/SSH.pm line 66.
2010-06-18 21:54:53[479370] [BX::Job::Service::Daemon:113] Checking row pid 946274
2010-06-18 21:54:53[946274] [BX::Nature::FILES::Filedist:303] [JOB 1425][debug] ORIGEN =  /opt/ca/tmp/N.DESA-00001425/GBP.0083/J2EE/build/tarfile_dist_24044.tar DESTINO = /temporal/tarfile_dist_24044.tar
2010-06-18 21:54:53[946274] [BX::Nature::FILES::Filedist:308] [JOB 1425][debug] Existe  /opt/ca/tmp/N.DESA-00001425/GBP.0083/J2EE/build/tarfile_dist_24044.tar
HOST= at /opt/ca/distribuidor/script/../lib/Baseliner/Core/Filesys/SSH.pm line 97.
HOME=/temporal/tarfile_dist_24044.tar at /opt/ca/distribuidor/script/../lib/Baseliner/Core/Filesys/SSH.pm line 98.
CONN= at /opt/ca/distribuidor/script/../lib/Baseliner/Core/Filesys/SSH.pm line 99.
EXEC LOCAL=set 2>&1
EXEC LOCAL=uname
CMD=scp,-pqB,-P 53255,/opt/ca/tmp/N.DESA-00001425/GBP.0083/J2EE/build/tarfile_dist_24044.tar,instala@172.26.206.19:/temporal/tarfile_dist_24044.tar at /opt/ca/distribuidor/script/../lib/Baseliner/Core/Filesys/SSH.pm line 27.
2010-06-18 21:54:55[946274] [BX::Nature::FILES::Filedist:313] [JOB 1425][error] Error al transferir /opt/ca/tmp/N.DESA-00001425/GBP.0083/J2EE/build/tarfile_dist_24044.tar a /temporal/tarfile_dist_24044.tar.
No es posible copiar el paquete de distribucion tarfile_dist_24044.tar. at /opt/ca/distribuidor/features/nature.files/lib/BaselinerX/Nature/FILES/Filedist.pm line 314.

Stack:
   BaselinerX::Nature::FILES::Filedist::ejecutarDistribucion (features/nature.files/lib/BaselinerX/Nature/FILES/Filedist.pm:314)
   BaselinerX::Nature::FILES::Filedist::distribuir (Filedist.pm:133)
   BaselinerX::Nature::J2EE::Service::Deploy::__ANON__ (Deploy.pm:55)
   BaselinerX::Type::Service::run (Service.pm:115)
   BaselinerX::Type::Model::Services::launch (Services.pm:44)
   Baseliner::launch (Baseliner.pm:199)
   BaselinerX::Job::Service::SimpleChain::__ANON__ (SimpleChain.pm:62)
   BaselinerX::Job::Service::SimpleChain::job_simple_chain (SimpleChain.pm:68)
   BaselinerX::Type::Service::run (Service.pm:115)
   BaselinerX::Type::Model::Services::launch (Services.pm:44)
   Baseliner::launch (Baseliner.pm:199)
   BaselinerX::Job::Service::Runner::__ANON__ (Runner.pm:149)
   BaselinerX::Job::Service::Runner::__ANON__ (Runner.pm:150)
   BaselinerX::Job::Service::Runner::job_run (Runner.pm:192)
   BaselinerX::Type::Service::run (Service.pm:115)
   BaselinerX::Type::Model::Services::launch (Services.pm:44)
2010-06-18 21:54:55[946274] [BX::Job::Service::SimpleChain:66] [JOB 1425][error] Error mientras se ejecutaba el servicio 'service.nature.j2ee.deploy' para el paso RUN: No es posible copiar el paquete de distribucion tarfile_dist_24044.tar. at /opt/ca/distribuidor/features/nature.files/lib/BaselinerX/Nature/FILES/Filedist.pm line 314.


No es posible copiar el paquete de distribucion tarfile_dist_24044.tar. at /opt/ca/distribuidor/features/nature.files/lib/BaselinerX/Nature/FILES/Filedist.pm line 314.


Stack:
   BaselinerX::Job::Service::SimpleChain::__ANON__ (lib/BaselinerX/Job/Service/SimpleChain.pm:67)
   BaselinerX::Job::Service::SimpleChain::job_simple_chain (SimpleChain.pm:68)
   BaselinerX::Type::Service::run (Service.pm:115)
   BaselinerX::Type::Model::Services::launch (Services.pm:44)
   Baseliner::launch (Baseliner.pm:199)
   BaselinerX::Job::Service::Runner::__ANON__ (Runner.pm:149)
   BaselinerX::Job::Service::Runner::__ANON__ (Runner.pm:150)
   BaselinerX::Job::Service::Runner::job_run (Runner.pm:192)
   BaselinerX::Type::Service::run (Service.pm:115)
   BaselinerX::Type::Model::Services::launch (Services.pm:44)
2010-06-18 21:54:55[946274] [BX::Job::Service::Runner:169] *** Error running Job 1425 ****
2010-06-18 21:54:55[946274] [BX::Job::Service::Runner:170] No es posible copiar el paquete de distribucion tarfile_dist_24044.tar. at /opt/ca/distribuidor/features/nature.files/lib/BaselinerX/Nature/FILES/Filedist.pm line 314.



2010-06-18 21:54:55[946274] [BX::Job::Service::Runner:171] [JOB 1425][error] No es posible copiar el paquete de distribucion tarfile_dist_24044.tar. at /opt/ca/distribuidor/features/nature.files/lib/BaselinerX/Nature/FILES/Filedist.pm line 314.



2010-06-18 21:54:55[946274] [BX::Job::Service::Runner:195] [JOB 1425][debug] Salida de la ejecuciÛn de pase
2010-06-18 21:54:55[946274] [BX::Job::Model::Jobs:284] [JOB 1425][debug] Notificando el usuario ROG2833Z: Pase N.DESA-00001425: Error
2010-06-18 21:54:55[946274] [B::Model::Messaging:161] Creating message for username=ROG2833Z, carrier=email
2010-06-18 21:54:55[946274] [BX::Job::Service::Runner:207] [JOB 1425][error] Pase terminado con status Error

